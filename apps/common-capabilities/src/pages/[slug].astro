---
import Layout from '../layouts/Layout.astro';
import { services as apps } from '../content/datastore.json';
import Details from './details/index';
import { getServicePathName } from '../utils/common';

export async function getStaticPaths() {
  return apps.map((app) => ({
    params: {
      slug: getServicePathName(app.ServiceName),
    },
    props: {
      app,
    },
  }));
}

const { app } = Astro.props;
---

<Layout title={`${app.ServiceName}-${app.Provider}`}>
  <Details client:load app={app} />
</Layout>
